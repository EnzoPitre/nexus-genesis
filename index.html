<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS GENESIS | L'Architecte d'Identité Numérique</title>
    
    <!-- FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%2240%22 fill=%22%2300f3ff%22 stroke=%22%23ffffff%22 stroke-width=%225%22/></svg>" type="image/svg+xml">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Rajdhani:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;800&family=Cormorant+Garamond:ital,wght@1,300;1,600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- SYSTEM CORE STYLES --- */
        :root {
            --neon-cyan: #00f3ff;
            --deep-void: #050505;
            --panel-bg: rgba(10, 10, 12, 0.9);
            --glass-border: rgba(255, 255, 255, 0.08);
            --nova-accent: #ff3300;
            --vanguard-accent: #ccff00;
            --zenith-accent: #d8b4fe;
            --aura-accent: #f472b6;
        }

        body {
            background-color: var(--deep-void);
            color: white;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .brand-font { font-family: 'Rajdhani', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        /* --- SCROLLBAR --- */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; border: 1px solid #000; }
        ::-webkit-scrollbar-thumb:hover { background: var(--neon-cyan); }

        /* --- BACKGROUND ANIMATION (AURORA) --- */
        @keyframes aurora {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .aurora-bg {
            background: linear-gradient(-45deg, #000000, #0f172a, #000000, #1e1b4b);
            background-size: 400% 400%;
            animation: aurora 20s ease infinite;
            position: fixed; inset: 0; z-index: -2;
        }
        .grid-overlay {
            position: fixed; inset: 0; z-index: -1;
            background-image: linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(circle at center, black, transparent 80%);
        }

        /* Panels */
        .glass-panel {
            background: var(--panel-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* Buttons & Inputs */
        .btn-primary {
            background: linear-gradient(90deg, rgba(0,243,255,0.1), rgba(0,243,255,0.0));
            border: 1px solid var(--neon-cyan); color: var(--neon-cyan);
            text-transform: uppercase; font-family: 'JetBrains Mono', monospace; font-weight: bold;
            letter-spacing: 2px; position: relative; overflow: hidden; transition: all 0.3s;
            cursor: pointer; z-index: 50;
        }
        .btn-primary:hover { background: var(--neon-cyan); color: black; box-shadow: 0 0 20px var(--neon-cyan); }
        
        /* Cursor */
        #cursor {
            width: 20px; height: 20px; border: 1px solid var(--neon-cyan);
            position: fixed; top: 0; left: 0; border-radius: 50%; 
            pointer-events: none; 
            z-index: 9999;
            transition: transform 0.1s ease; mix-blend-mode: difference;
        }
        #cursor-dot {
            width: 4px; height: 4px; background: var(--neon-cyan);
            position: fixed; top: 0; left: 0; border-radius: 50%; 
            pointer-events: none; 
            z-index: 9999;
        }
        body.hovering #cursor { transform: scale(2.5); background: rgba(0, 243, 255, 0.1); border-color: var(--neon-cyan); }

        /* Override cursor for interactive elements */
        a, button, input, textarea, .template-card, .hover-trigger, label { cursor: none !important; }

        .cyber-input {
            background: rgba(0,0,0,0.4); border: 1px solid #333; color: white;
            font-family: 'JetBrains Mono', monospace; transition: 0.3s; cursor: none;
        }
        .cyber-input:focus { border-color: var(--neon-cyan); outline: none; box-shadow: 0 0 10px rgba(0, 243, 255, 0.1); }

        /* --- TEMPLATE CARDS --- */
        .template-card { 
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
            transform-origin: center;
            position: relative;
            z-index: 10;
            box-sizing: border-box;
            cursor: none;
        }
        .template-card:hover { transform: translateY(-10px) scale(1.02); z-index: 20; }

        .selection-frame {
            position: absolute;
            inset: 0; border-width: 4px; border-style: solid; border-color: transparent; border-radius: 8px;
            pointer-events: none; transition: all 0.3s ease-out; z-index: 100;
        }
        .template-card:hover .selection-frame { border-color: currentColor; box-shadow: 0 0 30px currentColor; }
        .template-card.selected .selection-frame { border-color: currentColor; box-shadow: inset 0 0 20px currentColor, 0 0 20px currentColor; }

        /* Colors per theme */
        #card-orion { color: var(--neon-cyan); }
        #card-nova { color: var(--nova-accent); }
        #card-vanguard { color: var(--vanguard-accent); }
        #card-zenith { color: var(--zenith-accent); }
        #card-aura { color: var(--aura-accent); }

        /* Preview Styles */
        .nova-preview { background-color: #e6e6e6; font-family: 'Space Mono', monospace; overflow: hidden; }
        .nova-preview * { color: #101010; }
        .nova-preview-stripe { background: #ff3300; position: absolute; width: 150%; height: 20px; transform: rotate(-5deg); top: 50%; left: -20px; }
        
        .vanguard-preview { background-color: #f2f2f0; font-family: 'Space Grotesk', sans-serif; overflow: hidden; }
        .vanguard-preview * { color: #111111; }
        .vanguard-blob { position: absolute; right: -20px; top: -20px; width: 100px; height: 100px; background: #ccff00; filter: blur(20px); border-radius: 50%; opacity: 0.6; }
        
        .orion-preview { background-color: #050505; font-family: 'Rajdhani', sans-serif; border: 1px solid rgba(0, 243, 255, 0.2); }
        .orion-preview * { color: white; }
        .orion-glow { width: 60px; height: 60px; border-radius: 50%; background: radial-gradient(circle, rgba(0,243,255,0.2) 0%, transparent 70%); border: 1px solid rgba(0,243,255,0.5); }

        /* ZENITH STYLE */
        .zenith-preview { background-color: #0d0b16; font-family: 'Outfit', sans-serif; overflow: hidden; perspective: 1000px; }
        .zenith-preview * { color: white; }
        .zenith-layer { position: absolute; inset: 20px; border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1); background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01)); backdrop-filter: blur(4px); transition: all 0.5s; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; }
        .zenith-preview:hover .zenith-layer-1 { transform: translateZ(40px) translateY(-15px) rotateX(10deg); border-color: rgba(216, 180, 254, 0.5); }
        .zenith-preview:hover .zenith-layer-2 { transform: translateZ(20px) translateY(0px) rotateX(10deg); opacity: 0.6; }
        .zenith-preview:hover .zenith-layer-3 { transform: translateZ(0px) translateY(15px) rotateX(10deg); opacity: 0.3; }

        /* AURA STYLE */
        .aura-preview { background-color: #f8fafc; font-family: 'Plus Jakarta Sans', sans-serif; overflow: hidden; position: relative; }
        .aura-preview * { color: #1e293b; }
        .aura-blob { position: absolute; border-radius: 50%; filter: blur(40px); opacity: 0.8; animation: auraMove 8s infinite alternate; }
        .aura-blob-1 { width: 150px; height: 150px; background: #f472b6; top: -20px; left: -20px; }
        .aura-blob-2 { width: 120px; height: 120px; background: #60a5fa; bottom: -20px; right: -20px; animation-delay: -2s; }
        .aura-glass { position: absolute; inset: 30px; background: rgba(255,255,255,0.4); backdrop-filter: blur(10px); border-radius: 20px; border: 1px solid rgba(255,255,255,0.8); z-index: 10; display: flex; align-items: center; justify-content: center; flex-direction: column; }
        @keyframes auraMove { from { transform: translate(0,0) scale(1); } to { transform: translate(20px, 20px) scale(1.1); } }

        .active-section { display: block !important; animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .list-item-anim { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }

        /* Terminal Animation */
        .terminal-line { opacity: 0; animation: fadeInLog 0.2s forwards; }
        @keyframes fadeInLog { to { opacity: 1; } }

    </style>
</head>
<body>

    <!-- Backgrounds -->
    <div class="aurora-bg"></div>
    <div class="grid-overlay"></div>
    <canvas id="particle-canvas" class="fixed inset-0 z-[-1] opacity-40"></canvas>
    <div id="cursor"></div><div id="cursor-dot"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-[60] glass-panel border-b border-white/10 px-4 md:px-6 py-4 flex justify-between items-center flex-wrap gap-4">
        <div class="flex items-center gap-2 hover-trigger" onclick="switchView('home')">
            <div class="w-3 h-3 bg-cyan-400 rounded-full shadow-[0_0_10px_#06b6d4]"></div>
            <span class="brand-font text-xl font-bold tracking-widest">NEXUS<span class="text-cyan-400">GENESIS</span></span>
        </div>
        <div class="flex gap-4 md:gap-8 text-[10px] md:text-xs mono uppercase tracking-widest text-gray-400 items-center">
            <button onclick="switchView('home')" class="hover:text-cyan-400 transition-colors hover-trigger">Accueil</button>
            <button onclick="switchView('builder')" class="hover:text-cyan-400 transition-colors hover-trigger">Le Labo</button>
            
            <button onclick="toggleAudio()" id="audio-btn" class="flex items-center gap-2 border border-white/10 px-3 py-1 rounded-full hover:bg-white/5 hover:border-cyan-500 transition-all hover-trigger group">
                <div id="audio-icon"><i data-lucide="volume-x" class="w-3 h-3 text-gray-500 group-hover:text-cyan-400"></i></div>
                <span class="hidden md:inline text-[10px] text-gray-500 group-hover:text-white">AUDIO OFF</span>
            </button>
        </div>
        <button onclick="switchView('builder')" class="btn-primary px-4 py-2 text-[10px] md:text-xs hover-trigger">Démarrer</button>
    </nav>

    <!-- === SECTION: HOME === -->
    <section id="view-home" class="active-section relative pb-20">
        <div class="min-h-screen flex flex-col justify-center items-center text-center relative z-10 pt-32 pb-20 container mx-auto px-6">
            <div class="inline-block px-4 py-1 border border-cyan-500/30 rounded-full bg-cyan-500/5 text-cyan-400 text-xs mono mb-8 tracking-[0.3em]">SYSTEME V8.2 STABLE</div>
            <h1 class="text-6xl md:text-9xl font-black leading-tight mb-6 glitch" data-text="FORGEZ VOTRE">FORGEZ VOTRE<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-white to-purple-500">IDENTITÉ NUMÉRIQUE</span></h1>
            <p class="max-w-2xl text-gray-400 text-lg md:text-xl mb-12 leading-relaxed">Arrêtez d'envoyer des CVs PDF. Envoyez une expérience.<br>Cinq architectures distinctes. Une seule identité : la vôtre.</p>
            <button onclick="document.getElementById('demo-preview').scrollIntoView({behavior:'smooth'})" class="btn-primary px-10 py-4 text-sm md:text-base group hover-trigger relative z-20">Choisir une Architecture</button>
        </div>

        <!-- Templates Library -->
        <div id="demo-preview" class="container mx-auto px-6 pt-10 pb-32">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold text-white mb-2 brand-font">BIBLIOTHÈQUE DE <span class="text-cyan-400">TEMPLATES</span></h2>
                <div class="h-1 w-24 bg-cyan-500 mx-auto"></div>
                <p class="text-gray-400 mt-4 text-sm mono">Cliquez pour éditer le template</p>
            </div>

            <!-- GRID UPDATED TO 5 TEMPLATES -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 max-w-[1400px] mx-auto">
                
                <!-- 1: ORION -->
                <div onclick="selectTemplate('orion')" id="card-orion" class="template-card orion-preview rounded-lg h-72 flex flex-col items-center justify-center hover-trigger">
                    <div class="selection-frame"></div> 
                    <div class="absolute top-2 left-2 flex gap-1"><div class="w-2 h-2 rounded-full bg-red-500"></div><div class="w-2 h-2 rounded-full bg-yellow-500"></div><div class="w-2 h-2 rounded-full bg-green-500"></div></div>
                    <div class="orion-glow mb-4 flex items-center justify-center"><div class="w-2 h-2 bg-cyan-400 rounded-full animate-pulse"></div></div>
                    <div class="text-2xl font-bold tracking-widest text-cyan-400">ORION</div>
                    <div class="text-[9px] text-gray-500 mono mt-2 uppercase tracking-widest">Cyber-Minimalisme</div>
                </div>

                <!-- 2: NOVA -->
                <div onclick="selectTemplate('nova')" id="card-nova" class="template-card nova-preview rounded-lg h-72 flex flex-col items-center justify-center hover-trigger">
                    <div class="selection-frame"></div> 
                    <div class="absolute top-0 left-0 w-full h-6 bg-white border-b border-gray-300 flex items-center px-2 gap-1"><div class="w-2 h-2 rounded-full bg-black"></div><div class="w-2 h-2 rounded-full bg-black"></div></div>
                    <div class="nova-preview-stripe"></div>
                    <div class="text-4xl font-black text-black z-10 font-[Anton] italic">NOVA</div>
                    <div class="bg-[#ff3300] text-white text-[9px] font-bold px-2 py-1 mt-2 z-10 uppercase font-mono">Brutalist / Kinetic</div>
                </div>

                <!-- 3: VANGUARD -->
                 <div onclick="selectTemplate('vanguard')" id="card-vanguard" class="template-card vanguard-preview rounded-lg h-72 flex flex-col items-center justify-center hover-trigger">
                    <div class="selection-frame"></div> 
                    <div class="vanguard-blob"></div>
                    <div class="text-2xl font-bold text-black z-10 font-[Syne] uppercase tracking-tighter">VANGUARD</div>
                    <div class="flex items-center gap-2 mt-4 z-10">
                         <div class="px-3 py-1 bg-[#ccff00] rounded-full text-[9px] text-black font-bold uppercase">Motion</div>
                    </div>
                </div>

                <!-- 4: ZENITH -->
                <div onclick="selectTemplate('zenith')" id="card-zenith" class="template-card zenith-preview rounded-lg h-72 relative hover-trigger">
                    <div class="selection-frame"></div>
                    <div class="zenith-layer zenith-layer-3"></div>
                    <div class="zenith-layer zenith-layer-2"></div>
                    <div class="zenith-layer zenith-layer-1 flex flex-col">
                        <div class="text-3xl text-white font-[Cormorant_Garamond] italic mb-1">Zenith</div>
                        <div class="text-[9px] uppercase tracking-[0.2em] text-purple-200">Spatial UI</div>
                    </div>
                </div>

                <!-- 5: AURA -->
                <div onclick="selectTemplate('aura')" id="card-aura" class="template-card aura-preview rounded-lg h-72 flex flex-col items-center justify-center hover-trigger">
                    <div class="selection-frame"></div>
                    <div class="aura-blob aura-blob-1"></div>
                    <div class="aura-blob aura-blob-2"></div>
                    <div class="aura-glass">
                        <div class="text-3xl font-bold tracking-tight text-slate-800">AURA</div>
                        <div class="w-8 h-1 bg-gradient-to-r from-pink-400 to-blue-400 rounded-full mt-2"></div>
                        <div class="text-[9px] text-slate-500 mt-2 uppercase font-bold tracking-widest">Chromatic Flow</div>
                    </div>
                </div>

            </div>

            <div class="mt-16 text-center">
                <div class="inline-flex items-center gap-4 px-6 py-3 bg-white/5 border border-white/10 rounded-full text-gray-400 text-xs mono uppercase tracking-widest hover:border-cyan-500/50 transition-colors cursor-default hover-trigger">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-cyan-500"></span>
                    </span>
                    Nouveaux architectures en cours de développement...
                </div>
            </div>
        </div>

        <!-- RESTORED SECTION: THE CORE -->
        <div class="container mx-auto px-6 pb-32">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                
                <!-- Left: The Philosophy -->
                <div class="space-y-12">
                    <h2 class="text-4xl md:text-6xl font-bold brand-font leading-none">LE CŒUR DU<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600">SYSTÈME</span></h2>
                    
                    <div class="space-y-6">
                        <!-- Feature 1 -->
                        <div class="group hover-trigger p-6 border border-white/5 bg-white/5 hover:bg-white/10 hover:border-cyan-500/30 transition-all rounded-xl cursor-default">
                            <div class="flex items-start gap-4">
                                <div class="p-3 bg-black rounded-lg border border-white/10 text-cyan-400 group-hover:text-white group-hover:border-cyan-500 transition-colors"><i data-lucide="zap"></i></div>
                                <div>
                                    <h4 class="text-xl font-bold mb-2 text-white">Zéro-Latence</h4>
                                    <p class="text-gray-400 text-sm leading-relaxed">Pas de constructeur lourd. Pas de base de données. Votre portfolio est généré en HTML pur instantanément. C'est ça, le <span class="text-cyan-400">Vibe Coding</span>.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Feature 2 -->
                        <div class="group hover-trigger p-6 border border-white/5 bg-white/5 hover:bg-white/10 hover:border-purple-500/30 transition-all rounded-xl cursor-default">
                            <div class="flex items-start gap-4">
                                <div class="p-3 bg-black rounded-lg border border-white/10 text-purple-400 group-hover:text-white group-hover:border-purple-500 transition-colors"><i data-lucide="shield-check"></i></div>
                                <div>
                                    <h4 class="text-xl font-bold mb-2 text-white">Indépendance Totale</h4>
                                    <p class="text-gray-400 text-sm leading-relaxed">Vous possédez le code. Hébergez-le sur GitHub, Netlify, ou votre propre serveur. Aucune dépendance à notre plateforme.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Feature 3 -->
                        <div class="group hover-trigger p-6 border border-white/5 bg-white/5 hover:bg-white/10 hover:border-green-500/30 transition-all rounded-xl cursor-default">
                            <div class="flex items-start gap-4">
                                <div class="p-3 bg-black rounded-lg border border-white/10 text-green-400 group-hover:text-white group-hover:border-green-500 transition-colors"><i data-lucide="layers"></i></div>
                                <div>
                                    <h4 class="text-xl font-bold mb-2 text-white">Architecture Modulaire</h4>
                                    <p class="text-gray-400 text-sm leading-relaxed">Des designs pensés pour s'adapter à votre contenu, pas l'inverse. Brutalisme, Cyberpunk ou Minimalisme suisse.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Live Terminal Simulation -->
                <div class="relative">
                    <div class="absolute -inset-1 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg blur opacity-20"></div>
                    <div class="relative bg-black border border-white/10 rounded-lg p-4 font-mono text-xs h-[400px] overflow-hidden shadow-2xl">
                        <div class="flex items-center justify-between border-b border-white/10 pb-2 mb-4">
                            <div class="flex gap-2">
                                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                                <div class="w-3 h-3 rounded-full bg-green-500"></div>
                            </div>
                            <div class="text-gray-500">nexus_core.sh</div>
                        </div>
                        <div id="terminal-content" class="space-y-2 text-gray-400">
                            <!-- Lines injected by JS -->
                        </div>
                        <div class="mt-2 animate-pulse text-cyan-400">_</div>
                    </div>
                    
                    <!-- Floating Stats Overlay -->
                    <div class="absolute -bottom-10 -right-10 bg-gray-900 border border-white/10 p-6 rounded-xl shadow-[0_0_30px_rgba(0,0,0,0.5)] backdrop-blur-xl">
                        <div class="text-xs text-gray-500 uppercase tracking-widest mb-2">LIGNES DE CODE GÉNÉRÉES</div>
                        <div class="text-4xl font-bold text-white flex items-end gap-2">
                            <span id="counter-stats" class="mono">45,800</span>
                            <span class="text-green-400 text-sm mb-1 animate-pulse">● REC</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        
        <footer class="border-t border-white/10 py-12 bg-black text-center relative z-10 mt-20">
            <div class="brand-font text-2xl font-bold mb-2 text-white tracking-widest">NEXUS<span class="text-cyan-400">GENESIS</span></div>
            <p class="text-xs text-gray-600 mono uppercase">Fait par Enzo PITRE étudiant à Tech de Co Bordeaux</p>
            <div class="mt-6 flex justify-center gap-6">
                 <a href="https://www.linkedin.com/in/enzo-pitre-162a15292/" target="_blank" class="text-gray-600 hover:text-white transition-colors hover-trigger"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
            </div>
            <div class="mt-8 text-[10px] text-gray-700 mono">
                © 2025 Nexus Genesis Inc. All Rights Reserved.
            </div>
        </footer>
    </section>

    <!-- === SECTION: BUILDER === -->
    <section id="view-builder" style="display: none;" class="hidden-section pt-20 min-h-screen h-screen flex flex-col">
        <div class="flex-1 flex flex-col lg:flex-row overflow-hidden h-full">
            <!-- Controls -->
            <div class="w-full lg:w-1/3 bg-black/80 border-r border-white/10 flex flex-col h-full overflow-hidden">
                <div class="bg-gray-900 border-b border-white/10 p-2 flex justify-between items-center">
                    <span class="text-xs mono text-gray-500 pl-2">MODE: <span id="mode-display" class="text-cyan-400 font-bold">ORION</span></span>
                    <div>
                        <button onclick="switchView('home')" class="text-[10px] border border-white/20 px-2 py-1 rounded hover:bg-white/10 transition-colors hover-trigger">CHANGER THÈME</button>
                        <button onclick="resetMemory()" class="text-[10px] text-red-500 border border-red-500/30 px-2 py-1 rounded hover:bg-red-500/10 transition-colors hover-trigger ml-2">RESET MEMORY</button>
                    </div>
                </div>
                <div class="flex border-b border-white/10 bg-gray-900/50 overflow-x-auto">
                    <button onclick="setTab('profile')" class="tab-btn active-tab flex-1 py-4 text-xs mono uppercase text-center border-b-2 border-cyan-400 text-white hover:bg-white/5 min-w-[80px] hover-trigger">Profil</button>
                    <button onclick="setTab('social')" class="tab-btn flex-1 py-4 text-xs mono uppercase text-center border-b-2 border-transparent text-gray-500 hover:text-white hover:bg-white/5 min-w-[80px] hover-trigger">Réseaux</button>
                    <button onclick="setTab('exp')" class="tab-btn flex-1 py-4 text-xs mono uppercase text-center border-b-2 border-transparent text-gray-500 hover:text-white hover:bg-white/5 min-w-[80px] hover-trigger">Exp.</button>
                    <button onclick="setTab('skills')" class="tab-btn flex-1 py-4 text-xs mono uppercase text-center border-b-2 border-transparent text-gray-500 hover:text-white hover:bg-white/5 min-w-[80px] hover-trigger">Skills</button>
                    <button onclick="setTab('passions')" class="tab-btn flex-1 py-4 text-xs mono uppercase text-center border-b-2 border-transparent text-gray-500 hover:text-white hover:bg-white/5 min-w-[80px] hover-trigger">Passions</button>
                </div>
                <div class="flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar">
                    
                    <!-- Profile Tab -->
                    <div id="tab-profile" class="tab-content space-y-4">
                        <div class="flex items-center gap-4 mb-4 p-4 border border-white/10 rounded bg-white/5">
                            <div class="relative group cursor-pointer hover-trigger">
                                <canvas id="neural-avatar" width="64" height="64" class="rounded-full border-2 border-cyan-500/30 bg-black object-cover"></canvas>
                                <img id="uploaded-avatar-preview" class="hidden absolute inset-0 w-full h-full rounded-full object-cover border-2 border-cyan-400">
                                <div class="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 rounded-full transition-opacity">
                                    <i data-lucide="upload" class="w-4 h-4 text-white"></i>
                                </div>
                                <input type="file" id="input-avatar-file" class="absolute inset-0 opacity-0 cursor-pointer hover-trigger" accept="image/*" onchange="handleAvatarUpload(this)">
                            </div>
                            <div class="flex-1">
                                <div class="text-xs text-white font-bold mb-1">PHOTO DE PROFIL</div>
                                <div class="text-[10px] text-gray-500 leading-tight">Cliquez sur le cercle pour uploader.<br>Sera encodée en Base64 (Holographic).</div>
                                <button onclick="removeAvatar()" id="btn-remove-avatar" class="hidden text-[10px] text-red-500 mt-2 hover:underline hover-trigger">Supprimer la photo</button>
                            </div>
                        </div>

                        <div class="space-y-1"><label class="text-xs text-gray-500 mono uppercase">Nom Complet</label><input type="text" id="input-name" class="w-full p-3 rounded cyber-input hover-trigger" value="ALEX STERLING" placeholder="Ex: Jean Dupont" oninput="updatePreview(); generateNeuralAvatar(this.value)"></div>
                        <div class="space-y-1"><label class="text-xs text-gray-500 mono uppercase">Titre / Rôle</label><input type="text" id="input-role" class="w-full p-3 rounded cyber-input hover-trigger" value="CREATIVE DEVELOPER" placeholder="Ex: Digital Marketing Manager" oninput="updatePreview()"></div>
                        <div class="space-y-1">
                            <label class="text-xs text-gray-500 mono uppercase">Bio</label>
                            <textarea id="input-bio" rows="4" class="w-full p-3 rounded cyber-input text-sm hover-trigger" oninput="updatePreview()">Architecte numérique spécialisé dans les expériences web immersives et le design minimaliste.</textarea>
                        </div>
                        <div class="space-y-1"><label class="text-xs text-gray-500 mono uppercase">Email Contact</label><input type="text" id="input-email" class="w-full p-3 rounded cyber-input hover-trigger" value="hello@alexsterling.com" oninput="updatePreview()"></div>
                        <div class="space-y-1"><label class="text-xs text-gray-500 mono uppercase">Lien CV (PDF)</label><input type="text" id="input-cv" class="w-full p-3 rounded cyber-input hover-trigger" value="#" placeholder="mon-cv.pdf"></div>
                    </div>

                    <!-- Social Tab (NEW) -->
                    <div id="tab-social" class="tab-content hidden space-y-4">
                        <div class="p-3 bg-cyan-900/20 border border-cyan-500/30 rounded text-xs text-cyan-400 mb-4">
                            <i data-lucide="share-2" class="inline w-3 h-3 mr-1"></i> Ajoutez vos liens (LinkedIn, GitHub, etc).
                        </div>
                        <div id="social-list" class="space-y-3"></div>
                        <button onclick="addSocial()" class="w-full py-3 border border-dashed border-gray-700 text-gray-500 rounded hover:border-cyan-500 hover:text-cyan-400 transition-all text-xs uppercase mono tracking-widest hover-trigger">+ Ajouter un réseau</button>
                    </div>
                    
                    <!-- Exp Tab -->
                    <div id="tab-exp" class="tab-content hidden space-y-6">
                        <div id="experience-list" class="space-y-4"></div>
                        <button onclick="addExperience()" class="w-full py-3 border border-dashed border-gray-700 text-gray-500 rounded hover:border-cyan-500 hover:text-cyan-400 transition-all text-xs uppercase mono tracking-widest hover-trigger">+ Ajouter une expérience</button>
                    </div>
                    
                    <!-- Skills Tab -->
                    <div id="tab-skills" class="tab-content hidden space-y-4">
                        <div id="skills-list" class="space-y-3"></div>
                        <button onclick="addSkill()" class="w-full py-3 border border-dashed border-gray-700 text-gray-500 rounded hover:border-cyan-500 hover:text-cyan-400 transition-all text-xs uppercase mono tracking-widest hover-trigger">+ Ajouter une compétence</button>
                    </div>

                    <!-- Passions Tab -->
                    <div id="tab-passions" class="tab-content hidden space-y-4">
                        <div id="passions-list" class="space-y-3"></div>
                        <button onclick="addPassion()" class="w-full py-3 border border-dashed border-gray-700 text-gray-500 rounded hover:border-cyan-500 hover:text-cyan-400 transition-all text-xs uppercase mono tracking-widest hover-trigger">+ Ajouter une passion</button>
                    </div>

                </div>
                <div class="p-6 border-t border-white/10 bg-gray-900 flex flex-col gap-3">
                    <button onclick="exportPortfolio()" class="btn-primary w-full py-3 flex items-center justify-center gap-2 hover-trigger"><i data-lucide="download"></i> EXPORTER LE SITE (.html)</button>
                    <button onclick="toggleGithubTuto()" class="text-xs text-center text-gray-500 hover:text-white underline hover-trigger">Tutoriel : Mettre en ligne gratuitement</button>
                </div>
            </div>
            <!-- Preview -->
            <div class="hidden lg:block w-2/3 bg-black relative">
                <iframe id="preview-frame" class="w-full h-full border-none"></iframe>
            </div>
        </div>
    </section>

    <!-- === MODAL TUTORIAL === -->
    <div id="modal-github" class="fixed inset-0 z-[200] bg-black/90 backdrop-blur-md hidden flex items-center justify-center p-6">
        <div class="bg-[#0a0a0a] border border-cyan-500/30 max-w-3xl w-full rounded-xl p-8 relative shadow-[0_0_50px_rgba(6,182,212,0.2)] overflow-y-auto max-h-[90vh]">
            <button onclick="toggleGithubTuto()" class="absolute top-4 right-4 text-gray-500 hover:text-white hover-trigger"><i data-lucide="x"></i></button>
            <h2 class="text-3xl font-bold text-white mb-2 brand-font">HÉBERGER VOTRE <span class="text-cyan-400">PORTFOLIO</span></h2>
            <div class="mt-8 text-center"><button onclick="toggleGithubTuto()" class="px-8 py-3 bg-white/10 hover:bg-white/20 rounded text-white hover-trigger font-bold uppercase text-sm border border-white/10">J'ai compris</button></div>
        </div>
    </div>

    <script>
        // --- JS LOGIC ---
        let currentTemplate = "orion";
        let totalLines = 45800; 
        let audioEnabled = false;
        let audioContext = null;
        let customAvatar = "";
        const STORAGE_KEY = "NEXUS_DATA_V1";

        // AUDIO ENGINE
        function initAudio() { if (!audioContext) { const AudioContext = window.AudioContext || window.webkitAudioContext; audioContext = new AudioContext(); } }
        function playTone(freq, type, duration, vol = 0.02) {
            if (!audioEnabled || !audioContext) return;
            const osc = audioContext.createOscillator(); const gain = audioContext.createGain();
            osc.type = type; osc.frequency.setValueAtTime(freq, audioContext.currentTime);
            gain.gain.setValueAtTime(0, audioContext.currentTime);
            gain.gain.linearRampToValueAtTime(vol, audioContext.currentTime + 0.02);
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + duration);
            osc.connect(gain); gain.connect(audioContext.destination);
            osc.start(); osc.stop(audioContext.currentTime + duration);
        }
        function playHoverSound() { playTone(200, 'sine', 0.2, 0.015); }
        function playClickSound() { playTone(400, 'sine', 0.3, 0.03); }
        function playTypingSound() { playTone(600 + Math.random() * 100, 'sine', 0.1, 0.01); }

        function toggleAudio() {
            audioEnabled = !audioEnabled;
            const btn = document.getElementById('audio-btn');
            const icon = document.getElementById('audio-icon');
            const span = btn.querySelector('span');
            if (audioEnabled) {
                initAudio(); if (audioContext.state === 'suspended') audioContext.resume();
                icon.innerHTML = '<i data-lucide="volume-2" class="w-3 h-3 text-cyan-400"></i>';
                span.innerText = "AUDIO ON"; span.classList.remove('text-gray-500'); span.classList.add('text-cyan-400');
                playClickSound();
            } else {
                icon.innerHTML = '<i data-lucide="volume-x" class="w-3 h-3 text-gray-500"></i>';
                span.innerText = "AUDIO OFF"; span.classList.remove('text-cyan-400'); span.classList.add('text-gray-500');
            }
            lucide.createIcons();
        }

        function generateNeuralAvatar(name) {
            if (customAvatar) return;
            const canvas = document.getElementById('neural-avatar');
            if(!canvas) return;
            const ctx = canvas.getContext('2d'); const size = 64; ctx.clearRect(0, 0, size, size);
            let hash = 0; for (let i = 0; i < name.length; i++) { hash = name.charCodeAt(i) + ((hash << 5) - hash); }
            const c1 = `hsl(${Math.abs(hash % 360)}, 70%, 50%)`; const c2 = `hsl(${Math.abs((hash >> 8) % 360)}, 70%, 60%)`;
            ctx.fillStyle = '#000'; ctx.fillRect(0, 0, size, size); ctx.strokeStyle = c1; ctx.lineWidth = 2; ctx.beginPath(); ctx.arc(size/2, size/2, size/3, 0, Math.PI * 2); ctx.stroke();
            ctx.fillStyle = c2; ctx.beginPath(); const steps = 4 + (Math.abs(hash) % 4); 
            for(let i=0; i<steps; i++) { const angle = (i / steps) * Math.PI * 2; const x = size/2 + Math.cos(angle) * (size/4); const y = size/2 + Math.sin(angle) * (size/4); if(i===0) ctx.moveTo(x, y); else ctx.lineTo(x, y); }
            ctx.closePath(); ctx.fill();
        }

        function handleAvatarUpload(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    customAvatar = e.target.result;
                    const imgPreview = document.getElementById('uploaded-avatar-preview');
                    imgPreview.src = customAvatar; imgPreview.classList.remove('hidden');
                    document.getElementById('btn-remove-avatar').classList.remove('hidden');
                    playClickSound(); updatePreview();
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        function removeAvatar() { customAvatar = ""; document.getElementById('uploaded-avatar-preview').classList.add('hidden'); document.getElementById('btn-remove-avatar').classList.add('hidden'); document.getElementById('input-avatar-file').value = ""; generateNeuralAvatar(document.getElementById('input-name').value); playClickSound(); updatePreview(); }

        function switchView(viewName) {
            playClickSound();
            const views = ['home', 'builder'];
            views.forEach(v => {
                const el = document.getElementById(`view-${v}`);
                if(el) { if(v === viewName) { el.style.display = 'block'; el.classList.remove('hidden-section'); el.classList.add('active-section'); } else { el.style.display = 'none'; el.classList.remove('active-section'); el.classList.add('hidden-section'); } }
            });
            window.scrollTo(0,0); if(viewName === 'builder') setTimeout(updatePreview, 50);
        }
        function setTab(tabName) {
            playClickSound(); document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden')); const target = document.getElementById(`tab-${tabName}`); if(target) target.classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(el => { el.classList.remove('active-tab', 'border-cyan-400', 'text-white'); el.classList.add('border-transparent', 'text-gray-500'); });
            if(event && event.target) { event.target.classList.remove('border-transparent', 'text-gray-500'); event.target.classList.add('border-cyan-400', 'text-white'); }
        }
        function toggleGithubTuto() { playClickSound(); document.getElementById('modal-github').classList.toggle('hidden'); }

        function selectTemplate(templateId) {
            playClickSound(); currentTemplate = templateId;
            document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
            const selected = document.getElementById('card-' + templateId); if(selected) selected.classList.add('selected');
            const display = document.getElementById('mode-display');
            if(display) {
                display.innerText = templateId.toUpperCase();
                if(templateId === 'nova') display.style.color = '#ff3300';
                else if(templateId === 'vanguard') display.style.color = '#ccff00';
                else if(templateId === 'zenith') display.style.color = '#d8b4fe';
                else if(templateId === 'aura') display.style.color = '#f472b6';
                else display.style.color = '#00f3ff';
            }
            setTimeout(() => { switchView('builder'); }, 500); saveToLocal();
        }

        function getDataFromForm() {
            const expElements = document.querySelectorAll('.exp-item');
            const experiences = Array.from(expElements).map(el => ({ title: el.querySelector('.exp-title').value, company: el.querySelector('.exp-company').value, desc: el.querySelector('.exp-desc').value }));
            const skillElements = document.querySelectorAll('.skill-item');
            const skills = Array.from(skillElements).map(el => ({ name: el.querySelector('.skill-name').value, val: el.querySelector('.skill-val').value }));
            const passionElements = document.querySelectorAll('.passion-item');
            const passions = Array.from(passionElements).map(el => ({ name: el.querySelector('.passion-name').value, desc: el.querySelector('.passion-desc').value }));
            const socialElements = document.querySelectorAll('.social-item');
            const socials = Array.from(socialElements).map(el => ({ platform: el.querySelector('.social-platform').value, url: el.querySelector('.social-url').value }));
            return {
                name: document.getElementById('input-name').value || "NOM UTILISATEUR", 
                role: document.getElementById('input-role').value || "ROLE",
                bio: document.getElementById('input-bio').value || "Biographie...", 
                email: document.getElementById('input-email').value || "email@test.com",
                cv: document.getElementById('input-cv').value || "#", 
                avatar: customAvatar, experiences, skills, passions, socials
            };
        }

        function getInitials(name) { if(!name) return "XY"; const parts = name.trim().split(' '); if(parts.length === 1) return parts[0].substring(0, 2).toUpperCase(); return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase(); }
        function getSocialIcon(platform) { const p = platform.toLowerCase(); if(p.includes('linkedin')) return 'linkedin'; if(p.includes('github')) return 'github'; if(p.includes('twitter') || p.includes('x')) return 'twitter'; if(p.includes('instagram')) return 'instagram'; if(p.includes('behance')) return 'monitor'; if(p.includes('dribbble')) return 'dribbble'; return 'link'; }

        function getTemplateHTML(data) {
            if (currentTemplate === 'nova') return getNovaHTML(data);
            else if (currentTemplate === 'vanguard') return getVanguardHTML(data);
            else if (currentTemplate === 'zenith') return getZenithHTML(data);
            else if (currentTemplate === 'aura') return getAuraHTML(data);
            else return getOrionHTML(data);
        }

        // --- ORION (LINKS FIXED) ---
        function getOrionHTML(data) {
             const experiencesHTML = data.experiences.map((exp) => `<div class="relative group mb-12 pl-8 border-l border-gray-800"><div class="absolute -left-[5px] top-1 w-3 h-3 bg-black border border-cyan-500 rounded-full group-hover:bg-cyan-500 transition-colors shadow-[0_0_10px_rgba(6,182,212,0.5)]"></div><h4 class="text-2xl font-bold text-white uppercase tracking-tight">${exp.title}</h4><div class="text-sm text-cyan-400 font-mono mb-2 tracking-widest">${exp.company.toUpperCase()}</div><p class="text-gray-400 text-base leading-relaxed">${exp.desc}</p></div>`).join('');
            const skillsHTML = data.skills.map((skill) => `<div class="mb-6"><div class="flex justify-between mb-2 font-mono text-xs text-gray-400 uppercase tracking-widest"><span>${skill.name}</span><span>${skill.val}%</span></div><div class="w-full h-1 bg-gray-900 rounded overflow-hidden border border-white/5"><div class="h-full bg-gradient-to-r from-cyan-600 to-blue-600 shadow-[0_0_10px_rgba(6,182,212,0.4)] relative" style="width: ${skill.val}%"><div class="absolute right-0 top-0 bottom-0 w-1 bg-white/50"></div></div></div></div>`).join('');
            const passionsHTML = data.passions.map(p => `<div class="p-4 border border-white/10 bg-white/5 rounded hover:border-cyan-500/50 transition-colors"><div class="text-cyan-400 font-bold uppercase tracking-widest text-xs mb-1">${p.name}</div><div class="text-gray-400 text-sm">${p.desc}</div></div>`).join('');
            const socialHTML = data.socials.map(s => `<a href="${s.url}" target="_blank" class="text-gray-500 hover:text-cyan-400 transition-colors"><i data-lucide="${getSocialIcon(s.platform)}" class="w-5 h-5"></i></a>`).join('');
            let imageHTML = ''; if (data.avatar) { imageHTML = `<div class="md:col-span-4 flex justify-center md:justify-end mb-8 md:mb-0"><div class="relative w-64 h-64 rounded-full overflow-hidden border-2 border-cyan-500/50 shadow-[0_0_30px_rgba(0,243,255,0.2)]"><img src="${data.avatar}" class="w-full h-full object-cover filter grayscale hover:grayscale-0 transition-all duration-500"></div></div>`; }
            
            // FIX: Using onclick with scrollIntoView instead of plain href anchors
            return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${data.name}</title><script src="https://cdn.tailwindcss.com"><\/script><script src="https://unpkg.com/lucide@latest"><\/script><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"><style>body{background-color:#030303;color:white;font-family:'Inter',sans-serif;overflow-x:hidden;}.aurora-bg{background:linear-gradient(-45deg,#000000,#0a192f,#000000,#0f2027);background-size:400% 400%;animation:aurora-shift 15s ease infinite;position:fixed;inset:0;z-index:-1;opacity:0.5;}@keyframes aurora-shift{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}.scanlines{position:fixed;inset:0;z-index:2;pointer-events:none;background:linear-gradient(rgba(18,16,16,0) 50%,rgba(0,0,0,0.25) 50%);background-size:100% 4px;opacity:0.3;}.font-mono{font-family:'JetBrains Mono',monospace;}.glitch-text:hover{color:#06b6d4;text-shadow:2px 0 #fff,-2px 0 #06b6d4;transition:0.2s;}button{cursor:pointer;}</style></head><body><div class="aurora-bg"></div><div class="scanlines"></div><header class="fixed w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference text-white"><div class="font-bold text-xl tracking-tighter flex items-center gap-2 cursor-default"><div class="w-3 h-3 bg-cyan-500 rounded-full animate-pulse"></div>${getInitials(data.name)}.SYS</div><nav class="hidden md:flex gap-6 text-xs font-bold uppercase tracking-widest"><button onclick="document.getElementById('exp').scrollIntoView({behavior:'smooth'})" class="hover:text-cyan-400 transition-colors uppercase">Parcours</button><button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})" class="hover:text-cyan-400 transition-colors uppercase">Contact</button></nav></header><section class="min-h-screen w-full flex items-center justify-center px-6 relative pt-20"><div class="max-w-6xl w-full grid md:grid-cols-12 gap-12 items-center"><div class="${data.avatar ? 'md:col-span-8' : 'md:col-span-12'}"><div class="flex items-center gap-4 mb-6"><div class="h-[1px] w-12 bg-cyan-400 shadow-[0_0_10px_#06b6d4]"></div><span class="text-cyan-400 tracking-[0.5em] text-xs uppercase font-bold">Dossier Confidentiel</span></div><h1 class="text-6xl md:text-8xl font-black text-white leading-[0.9] mb-6 glitch-text cursor-default">${data.name.toUpperCase()}</h1><h2 class="text-xl md:text-3xl font-light text-gray-300 mt-2 font-mono">${data.role.toUpperCase()} <span class="text-cyan-500 animate-blink">_</span></h2><p class="max-w-xl mt-8 text-gray-400 leading-relaxed text-lg">${data.bio}</p><div class="mt-8 flex gap-4">${socialHTML}</div><div class="mt-12 flex flex-wrap gap-6"><button onclick="document.getElementById('exp').scrollIntoView({behavior:'smooth'})" class="px-8 py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-cyan-400 transition-colors text-xs cursor-pointer">Analyser le parcours</button><a href="${data.cv}" class="px-8 py-4 border border-white/20 text-white font-bold uppercase tracking-widest hover:bg-white/10 transition-colors text-xs flex items-center gap-2"><i data-lucide="download" class="w-4 h-4"></i> Télécharger CV</a></div></div>${imageHTML}</div></section><section id="exp" class="py-32 bg-black/50 backdrop-blur-sm border-t border-white/5 relative"><div class="container mx-auto px-6 grid lg:grid-cols-12 gap-16 relative z-10"><div class="lg:col-span-7"><h3 class="text-3xl font-black mb-16 uppercase text-white tracking-wider flex items-center gap-4"><i data-lucide="activity" class="text-cyan-400"></i> Historique Opérationnel</h3><div class="space-y-4">${experiencesHTML}</div></div><div class="lg:col-span-5"><div class="bg-white/5 border border-white/10 p-8 rounded-2xl sticky top-10"><h3 class="text-xl font-black mb-8 uppercase text-white tracking-wider flex items-center gap-4"><i data-lucide="cpu" class="text-cyan-400"></i> Arsenal Technique</h3><div class="space-y-2">${skillsHTML}</div><h3 class="text-xl font-black mt-12 mb-6 uppercase text-white tracking-wider flex items-center gap-4"><i data-lucide="heart" class="text-cyan-400"></i> Intérêts</h3><div class="grid grid-cols-1 gap-2">${passionsHTML}</div></div></div></div></section><section id="contact" class="py-24 bg-black border-t border-white/10"><div class="container mx-auto px-6 max-w-4xl text-center"><h2 class="text-4xl font-bold mb-8">INITIALISER LA CONNEXION</h2><form class="space-y-4 max-w-lg mx-auto" onsubmit="event.preventDefault(); window.location.href='mailto:${data.email}?subject=Contact&body='+document.getElementById('msg').value"><input type="email" placeholder="Votre Email" class="w-full bg-white/5 border border-white/10 p-4 text-white focus:border-cyan-500 outline-none"><textarea id="msg" rows="4" placeholder="Message crypté..." class="w-full bg-white/5 border border-white/10 p-4 text-white focus:border-cyan-500 outline-none"></textarea><button class="w-full bg-cyan-500 text-black font-bold uppercase py-4 hover:bg-cyan-400 transition-colors">Transmettre</button></form></div></section><footer class="py-12 text-center border-t border-white/10 text-gray-600 font-mono text-xs uppercase">Architecture by Nexus Genesis // User: ${data.name}</footer><script>lucide.createIcons()<\/script></body></html>`;
        }

        // --- NOVA (LINKS FIXED) ---
        function getNovaHTML(data) {
             const experiencesHTML = data.experiences.map((exp, index) => `<div class="exp-card group border-t-2 border-black py-8 relative transition-all duration-300 hover:bg-[#ff3300] hover:text-white hover:pl-4"><div class="flex flex-col md:flex-row md:items-baseline gap-2 md:gap-8 relative z-10"><span class="font-mono text-xs font-bold opacity-50">0${index + 1}</span><h3 class="text-3xl md:text-5xl font-black uppercase leading-none">${exp.title}</h3><span class="text-sm font-bold uppercase border border-current px-2 rounded-full ml-auto md:ml-0">${exp.company}</span></div><p class="mt-4 max-w-2xl text-lg font-medium opacity-70 group-hover:opacity-100">${exp.desc}</p></div>`).join('');
            const skillsHTML = data.skills.map((skill) => `<span class="inline-block border-2 border-black px-4 py-2 text-xl font-bold uppercase m-1 hover:bg-black hover:text-[#ff3300] transition-colors cursor-default transform hover:-translate-y-1 hover:shadow-[4px_4px_0px_#ff3300]">${skill.name}</span>`).join('');
            const passionsHTML = data.passions.map(p => `<div class="border-l-4 border-[#ff3300] pl-4 py-2 bg-gray-100"><div class="font-bold uppercase text-lg">${p.name}</div><div class="text-sm text-gray-600 font-mono">${p.desc}</div></div>`).join('');
            const socialHTML = data.socials.map(s => `<a href="${s.url}" target="_blank" class="border border-black px-4 py-2 rounded-full hover:bg-black hover:text-[#ff3300] transition-colors flex items-center gap-2 font-bold uppercase text-xs"><i data-lucide="${getSocialIcon(s.platform)}" class="w-4 h-4"></i> ${s.platform}</a>`).join('');
            let imageHTML = ''; if (data.avatar) { imageHTML = `<div class="md:col-span-1"><div class="w-full aspect-square bg-black p-2"><img src="${data.avatar}" class="w-full h-full object-cover grayscale contrast-125 hover:filter-none transition-all"></div></div>`; }
            
            // FIX: Replaced anchors with buttons or onclick
            return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${data.name} // NOVA</title><script src="https://cdn.tailwindcss.com"><\/script><script src="https://unpkg.com/lucide@latest"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"><\/script><link href="https://fonts.googleapis.com/css2?family=Anton&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"><style>:root{--ink:#101010;--paper:#e6e6e6;--alert:#ff3300;}::selection{background:var(--ink);color:var(--alert);}body{background-color:var(--paper);color:var(--ink);font-family:'Space Mono',monospace;cursor:auto;overflow-x:hidden;}h1,h2,h3,.mega-type{font-family:'Anton',sans-serif;letter-spacing:-0.02em;}#cursor-ball{width:20px;height:20px;background:var(--alert);border-radius:50%;position:fixed;top:0;left:0;z-index:9999;pointer-events:none;mix-blend-mode:difference;transition:transform 0.1s;}.marquee-container{overflow:hidden;white-space:nowrap;position:relative;}.marquee-content{display:inline-block;animation:marquee 15s linear infinite;}@keyframes marquee{0%{transform:translateX(0);}100%{transform:translateX(-50%);}}.noise-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999;opacity:0.05;background:url('//grainy-gradients.vercel.app/noise.svg');}.reveal-text{clip-path:polygon(0 0,100% 0,100% 100%,0 100%);transform:translateY(0);opacity:1;}.magnetic-btn:hover{background:var(--ink);color:var(--paper);}.exp-card{opacity:1 !important; visibility:visible !important;}</style></head><body class="antialiased"><div class="noise-overlay"></div><div id="cursor-ball"></div><nav class="fixed top-0 w-full z-50 flex justify-between items-center px-6 py-6 mix-blend-difference text-white md:mix-blend-normal md:text-black"><div class="text-xl font-bold tracking-tighter">${getInitials(data.name)}.<span class="text-[#ff3300]">SYS</span></div><div class="flex gap-4"><a href="${data.cv}" class="magnetic-btn border-2 border-current px-6 py-2 font-bold uppercase hover:bg-black hover:text-[#ff3300] hover:border-black transition-all rounded-full flex items-center gap-2">CV.PDF <i data-lucide="download" class="w-4 h-4"></i></a><button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})" class="magnetic-btn border-2 border-current px-6 py-2 font-bold uppercase hover:bg-black hover:text-[#ff3300] hover:border-black transition-all rounded-full cursor-pointer">Contact</button></div></nav><section class="min-h-screen flex flex-col justify-center px-4 md:px-12 pt-20 relative border-b-4 border-black bg-[#e6e6e6]"><div class="flex flex-col z-10 mix-blend-darken"><h1 class="text-[15vw] leading-[0.85] uppercase break-all reveal-text" style="color:transparent;-webkit-text-stroke:2px var(--ink);">${data.name.split(' ')[0]}</h1><h1 class="text-[15vw] leading-[0.85] uppercase text-black reveal-text ml-[10vw]">${data.name.split(' ')[1] || 'PORTFOLIO'}</h1></div><div class="mt-12 md:absolute md:bottom-12 md:right-12 max-w-md text-right self-end reveal-text"><p class="text-3xl md:text-4xl font-bold leading-tight uppercase border-l-4 border-[#ff3300] pl-4 bg-white/50 backdrop-blur-sm p-4 text-black shadow-lg transform -rotate-1">${data.role}</p></div></section><div class="bg-[#ff3300] text-black py-4 border-b-4 border-black overflow-hidden rotate-[-2deg] scale-105 z-20 relative shadow-xl"><div class="marquee-container"><div class="marquee-content text-4xl font-black uppercase font-sans">CREATIVE // DEVELOPMENT // DESIGN // STRATEGY // BRUTALISM // WEBGL // INTERACTIVE // CREATIVE // DEVELOPMENT // DESIGN // STRATEGY // BRUTALISM // WEBGL // INTERACTIVE //</div></div></div><section class="py-32 px-4 md:px-12 bg-[#101010] text-[#e6e6e6] relative"><div class="grid md:grid-cols-2 gap-16 items-center">${data.avatar ? imageHTML : ''}<div><span class="text-[#ff3300] font-bold text-sm mb-4 block">01 // IDENTITY</span><p class="text-3xl md:text-5xl font-bold leading-snug reveal-text">${data.bio}</p><div class="flex flex-wrap gap-3 mt-8">${socialHTML}</div></div></div></section><section id="exp" class="py-32 px-4 md:px-12 bg-[#e6e6e6] relative"><div class="flex items-end justify-between mb-16 border-b-4 border-black pb-4"><h2 class="text-[10vw] leading-none text-black">WORK.</h2><span class="text-xl font-bold text-[#ff3300]">HISTORY</span></div><div class="flex flex-col">${experiencesHTML}</div></section><section class="py-32 px-4 md:px-12 bg-white border-t-4 border-black relative"><div class="grid md:grid-cols-2 gap-12"><div><h2 class="text-6xl font-black mb-12 uppercase">Tech<span class="text-transparent" style="-webkit-text-stroke:2px black;">Stack</span></h2><div class="flex flex-wrap gap-2">${skillsHTML}</div></div><div><h2 class="text-6xl font-black mb-12 uppercase text-[#ff3300]">Passions</h2><div class="space-y-4">${passionsHTML}</div></div></div></section><section id="contact" class="py-24 px-4 md:px-12 bg-[#101010] text-white flex flex-col md:flex-row gap-12 items-center"><div class="flex-1"><h2 class="text-[8vw] leading-none uppercase font-black text-[#ff3300]">LET'S TALK</h2><p class="text-xl mt-4 max-w-md">Prêt à démarrer un nouveau projet ? Envoyez un signal.</p></div><form class="flex-1 w-full space-y-4" onsubmit="event.preventDefault(); window.location.href='mailto:${data.email}?subject=Nova Contact&body='+document.getElementById('nova-msg').value"><input type="email" placeholder="E-mail" class="w-full bg-transparent border-b-2 border-white/20 py-4 text-2xl focus:border-[#ff3300] outline-none"><textarea id="nova-msg" rows="2" placeholder="Brief..." class="w-full bg-transparent border-b-2 border-white/20 py-4 text-2xl focus:border-[#ff3300] outline-none"></textarea><button class="bg-[#ff3300] text-black font-bold uppercase px-8 py-4 text-xl hover:bg-white transition-colors w-full md:w-auto">Envoyer</button></form></section><footer class="bg-black text-[#ff3300] py-12 text-center text-xs font-mono uppercase">© ${new Date().getFullYear()} NOVA SYSTEM // GENERATED BY NEXUS GENESIS</footer><script>lucide.createIcons();const cursor=document.getElementById('cursor-ball');window.addEventListener('mousemove',(e)=>{gsap.to(cursor,{x:e.clientX-10,y:e.clientY-10,duration:0.1,ease:"power2.out"});});gsap.registerPlugin(ScrollTrigger);const reveals=document.querySelectorAll('.reveal-text');reveals.forEach(el=>{gsap.from(el,{scrollTrigger:{trigger:el,start:"top 85%"},y:100,opacity:0,duration:1,ease:"expo.out"});});<\/script></body></html>`;
        }

        // --- VANGUARD (LINKS FIXED) ---
        function getVanguardHTML(data) {
             const experiencesHTML = data.experiences.map((exp) => `<div class="group relative py-12 border-b border-white/20 hover:bg-white/5 transition-colors cursor-pointer work-item hover-trigger"><div class="grid grid-cols-1 md:grid-cols-12 gap-4 items-center relative z-10"><div class="md:col-span-2 text-[#ccff00] font-mono text-sm">${exp.company}</div><div class="md:col-span-6"><h3 class="text-3xl md:text-5xl font-display font-bold uppercase group-hover:pl-4 transition-all">${exp.title}</h3></div></div><div class="max-h-0 overflow-hidden group-hover:max-h-40 transition-all duration-500 ease-in-out relative z-10"><p class="pt-6 md:ml-[16.6%] max-w-2xl text-lg text-gray-300">${exp.desc}</p></div></div>`).join('');
            const skillsHTML = data.skills.map(s => `<span class="skill-tag text-2xl hover-trigger">${s.name}</span>`).join('');
            const passionsHTML = data.passions.map(p => `<div class="border-t border-black py-8 hover:bg-white hover:text-black transition-all group cursor-default"><h3 class="text-4xl font-bold uppercase mb-2 group-hover:translate-x-4 transition-transform">${p.name}</h3><p class="text-gray-500 group-hover:text-black group-hover:translate-x-4 transition-transform delay-75">${p.desc}</p></div>`).join('');
            const socialHTML = data.socials.map(s => `<a href="${s.url}" target="_blank" class="text-lg font-bold uppercase border-b border-black pb-1 hover:text-[#ccff00] transition-colors">${s.platform}</a>`).join('');
            let imageHTML = ''; if (data.avatar) { imageHTML = `<div class="absolute top-20 right-10 md:top-1/4 md:right-20 w-48 h-48 md:w-80 md:h-80 rounded-full overflow-hidden z-10"><img src="${data.avatar}" class="w-full h-full object-cover block"></div>`; }
            
            // FIX: Replaced anchors with proper JS scrolling buttons
            return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${data.name} - Vanguard</title><script src="https://cdn.tailwindcss.com"><\/script><script src="https://unpkg.com/lucide@latest"><\/script><link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"><\/script><style>:root{--bg-color:#f2f2f0;--text-color:#111111;--accent-color:#ccff00;}body{background-color:var(--bg-color);color:var(--text-color);font-family:'Space Grotesk',sans-serif;overflow-x:hidden;cursor:auto;margin:0;padding:0;}h1,h2,h3,h4,.font-display{font-family:'Syne',sans-serif;}#cursor-dot,#cursor-outline{position:fixed;top:0;left:0;transform:translate(-50%,-50%);border-radius:50%;z-index:9999;pointer-events:none;mix-blend-mode:difference;}#cursor-dot{width:12px;height:12px;background-color:white;}#cursor-outline{width:60px;height:60px;border:1px solid white;background-color:rgba(255,255,255,0.1);transition:width 0.2s,height 0.2s;}body.hover-active #cursor-outline{width:100px;height:100px;background-color:white;}.huge-text{font-size:clamp(3rem,12vw,12rem);line-height:0.85;letter-spacing:-0.04em;font-weight:800;text-transform:uppercase;}.contact-text{font-size:clamp(3rem,10vw,8rem);line-height:0.9;}.skill-tag{border:1px solid var(--text-color);padding:10px 20px;border-radius:50px;transition:all 0.3s ease;background:transparent;display:inline-block;margin:5px;}.skill-tag:hover{background:var(--text-color);color:var(--accent-color);transform:translateY(-5px);}.nav-link:hover{text-decoration:underline;}</style></head><body class="antialiased"><div id="cursor-dot"></div><div id="cursor-outline"></div><nav class="fixed top-0 left-0 w-full p-6 flex justify-between items-center z-50 mix-blend-exclusion text-white md:text-black md:mix-blend-normal"><div class="text-xl font-bold font-display tracking-tighter">${getInitials(data.name)}.25 ©</div><div class="hidden md:flex gap-8 text-sm uppercase font-bold tracking-widest"><button onclick="document.getElementById('hero').scrollIntoView({behavior:'smooth'})" class="nav-link text-black hover-trigger uppercase">Profil</button><button onclick="document.getElementById('work').scrollIntoView({behavior:'smooth'})" class="nav-link text-black hover-trigger uppercase">Projets</button><button onclick="document.getElementById('skills').scrollIntoView({behavior:'smooth'})" class="nav-link text-black hover-trigger uppercase">Arsenal</button><button onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})" class="px-6 py-2 bg-black text-[#ccff00] rounded-full hover:bg-[#ccff00] hover:text-black transition-colors hover-trigger uppercase">Contact</button></div></nav><main><section id="hero" class="min-h-screen flex flex-col justify-center px-4 md:px-12 pt-20 relative overflow-hidden"><div class="absolute top-1/4 right-0 w-[40vw] h-[40vw] bg-[#ccff00] rounded-full blur-[100px] opacity-20 animate-pulse"></div>${imageHTML}<div class="relative z-20"><p class="text-sm md:text-lg uppercase tracking-widest mb-4 border-l-2 border-black pl-4 font-bold">Portfolio 2025</p><h1 class="huge-text leading-[0.8]"><div><span class="block">${data.name.split(' ')[0]}</span></div><div><span class="block ml-[10vw] text-[#ccff00] drop-shadow-lg" style="-webkit-text-stroke: 2px black;">${data.name.split(' ')[1] || 'PORTFOLIO'}</span></div></h1></div><div class="mt-12 md:mt-24 grid grid-cols-1 md:grid-cols-12 gap-8 items-start"><div class="md:col-span-4 md:col-start-9"><p class="text-lg md:text-xl font-medium leading-relaxed">${data.role}<br><br>${data.bio}</p><div class="mt-8 flex gap-4"><button onclick="document.getElementById('work').scrollIntoView({behavior:'smooth'})" class="group flex items-center gap-2 border-b-2 border-black pb-1 hover-trigger cursor-pointer uppercase"><span>EXPLORER</span><i data-lucide="arrow-down-right"></i></button><a href="${data.cv}" class="group flex items-center gap-2 border-b-2 border-transparent hover:border-black pb-1 text-gray-500 hover:text-black transition-all hover-trigger uppercase"><span>CV.PDF</span><i data-lucide="download"></i></a></div></div></div></section><section id="work" class="py-24 px-4 md:px-12 bg-black text-[#f2f2f0] rounded-t-[3rem] relative z-20"><div class="flex flex-col md:flex-row justify-between items-end mb-24 border-b border-white/20 pb-8"><h2 class="text-6xl md:text-8xl font-display font-bold uppercase">Work<br><span class="text-[#ccff00]">History</span></h2></div><div class="space-y-0">${experiencesHTML}</div></section><section id="skills" class="py-24 px-4 md:px-12"><div class="grid grid-cols-1 lg:grid-cols-2 gap-20"><div><h2 class="text-5xl font-display font-bold mb-12">ARSENAL</h2><div class="flex flex-wrap gap-4">${skillsHTML}</div></div><div><h2 class="text-5xl font-display font-bold mb-12">PASSIONS</h2><div class="flex flex-col">${passionsHTML}</div></div></div></section><section id="contact" class="min-h-screen px-4 md:px-12 py-24 bg-[#ccff00] text-black relative flex flex-col justify-between"><div class="grid grid-cols-1 md:grid-cols-2 gap-16 md:gap-24 items-start"><div><h2 class="contact-text font-display font-black tracking-tighter mb-8 leading-none">LET'S<br>TALK.</h2><div class="space-y-4 text-xl font-medium mt-12"><a href="mailto:${data.email}" class="block border-b border-black pb-2 hover:pl-4 transition-all hover-trigger">${data.email}</a><div class="mt-8 flex gap-6">${socialHTML}</div></div></div><form class="space-y-8 mt-12 md:mt-4" onsubmit="event.preventDefault(); window.location.href='mailto:${data.email}?subject=Contact Portfolio&body='+this.querySelector('#form-msg').value"><div class="group"><label class="block text-xs font-bold uppercase mb-2">Identité</label><input type="text" placeholder="Votre nom" class="w-full bg-transparent border-b-2 border-black py-4 placeholder-black/50 focus:outline-none focus:border-white transition-colors text-lg"></div><div class="group"><label class="block text-xs font-bold uppercase mb-2">Brief</label><textarea id="form-msg" rows="3" placeholder="Parlons projet..." class="w-full bg-transparent border-b-2 border-black py-4 placeholder-black/50 focus:outline-none focus:border-white transition-colors resize-none text-lg"></textarea></div><button type="submit" class="w-full bg-black text-white py-6 text-xl font-display font-bold uppercase hover:bg-white hover:text-black transition-colors hover-trigger mt-4">Envoyer le message</button></form></div><footer class="mt-24 pt-8 border-t border-black font-bold uppercase">© 2025 ${data.name.split(' ')[0]} // Vanguard Edition</footer></section></main><script>lucide.createIcons();const cursorDot=document.getElementById('cursor-dot');const cursorOutline=document.getElementById('cursor-outline');window.addEventListener('mousemove',(e)=>{const posX=e.clientX;const posY=e.clientY;cursorDot.style.left=\`\${posX}px\`;cursorDot.style.top=\`\${posY}px\`;cursorOutline.animate({left:\`\${posX}px\`,top:\`\${posY}px\`},{duration:500,fill:"forwards"});});const hoverTriggers=document.querySelectorAll('.hover-trigger, a, button, .work-item');hoverTriggers.forEach(trigger=>{trigger.addEventListener('mouseenter',()=>{document.body.classList.add('hover-active');});trigger.addEventListener('mouseleave',()=>{document.body.classList.remove('hover-active');});});<\/script></body></html>`;
        }

        function getZenithHTML(data) {
            const experiencesHTML = data.experiences.map((exp, i) => `<div class="glass-card mb-4 p-8 rounded-2xl border border-white/10 hover:border-purple-400/50 transition-all group"><div class="flex justify-between items-start mb-4"><h4 class="text-2xl font-display italic text-white group-hover:text-purple-300 transition-colors">${exp.title}</h4><span class="text-xs uppercase tracking-widest text-gray-400 border border-white/10 px-3 py-1 rounded-full">${exp.company}</span></div><p class="text-gray-400 leading-relaxed font-light">${exp.desc}</p></div>`).join('');
            const skillsHTML = data.skills.map(s => `<div class="flex items-center gap-4 mb-4"><div class="w-2 h-2 rounded-full bg-purple-400"></div><span class="text-lg font-light tracking-wide">${s.name}</span><div class="h-[1px] flex-1 bg-white/10"></div><span class="text-xs font-mono text-gray-500">${s.val}%</span></div>`).join('');
            const socialHTML = data.socials.map(s => `<a href="${s.url}" class="block p-4 border-t border-white/10 hover:bg-white/5 transition-colors flex justify-between items-center group"><span class="font-display italic text-xl">${s.platform}</span><i data-lucide="arrow-up-right" class="w-5 h-5 text-gray-600 group-hover:text-purple-300 transition-colors"></i></a>`).join('');
            let imageHTML = ''; if (data.avatar) { imageHTML = `<div class="w-32 h-32 md:w-48 md:h-48 rounded-full overflow-hidden border-2 border-white/10 mx-auto mb-8 relative z-10"><img src="${data.avatar}" class="w-full h-full object-cover"></div>`; }
            return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${data.name} | ZENITH</title><script src="https://cdn.tailwindcss.com"><\/script><script src="https://unpkg.com/lucide@latest"><\/script><link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;800&family=Cormorant+Garamond:ital,wght@0,300;0,600;1,300;1,600&display=swap" rel="stylesheet"><style>:root{--bg-deep:#05040a;--glass:rgba(255,255,255,0.03);--border:rgba(255,255,255,0.08);}body{background-color:var(--bg-deep);color:white;font-family:'Outfit',sans-serif;overflow-x:hidden;}h1,h2,h3,.font-display{font-family:'Cormorant Garamond',serif;}/* STACKING CARDS EFFECT */.stack-section{position:sticky;top:0;height:100vh;display:flex;flex-direction:column;justify-content:center;padding:2rem;box-sizing:border-box;border-top:1px solid var(--border);background:var(--bg-deep);box-shadow:0 -10px 50px rgba(0,0,0,0.5);transition:transform 0.5s ease-out;transform-origin:top center;overflow:hidden;}.stack-section:nth-child(1){background:radial-gradient(circle at top right,#1a103c 0%,#05040a 60%);z-index:1;}.stack-section:nth-child(2){background:radial-gradient(circle at center left,#2d1b4e 0%,#05040a 60%);z-index:2;}.stack-section:nth-child(3){background:radial-gradient(circle at bottom right,#1e1e2e 0%,#05040a 60%);z-index:3;}.stack-section:nth-child(4){background:black;z-index:4;}.glass-card{background:var(--glass);backdrop-filter:blur(20px);}.grain{position:fixed;inset:0;background:url('https://grainy-gradients.vercel.app/noise.svg');opacity:0.03;pointer-events:none;z-index:9999;}::-webkit-scrollbar{width:0px;}</style></head><body><div class="grain"></div><nav class="fixed top-0 left-0 w-full p-8 flex justify-between items-center z-50 mix-blend-difference"><div class="text-xs uppercase tracking-[0.3em] font-bold">Zenith OS</div><div class="text-xs font-mono opacity-50">V.1.0</div></nav><main><section class="stack-section items-center text-center">${imageHTML}<div class="relative z-10"><h1 class="text-6xl md:text-9xl font-display font-light italic mb-2 tracking-tighter">${data.name.split(' ')[0]}</h1><h1 class="text-6xl md:text-9xl font-display font-bold uppercase mb-8 tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-purple-200 to-gray-500">${data.name.split(' ')[1] || ''}</h1><p class="text-sm uppercase tracking-[0.4em] text-purple-300/80 mb-12">${data.role}</p><div class="animate-bounce text-xs opacity-30 mt-12 cursor-pointer" onclick="window.scrollBy({top: window.innerHeight, behavior: 'smooth'})">SCROLL TO UNLOCK</div></div><div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(168,85,247,0.1),transparent_50%)]"></div></section><section class="stack-section"><div class="max-w-4xl mx-auto w-full grid md:grid-cols-2 gap-12 items-center"><div><span class="text-6xl font-display text-purple-500/20 absolute -left-4 -top-12 md:static md:block md:mb-8">01</span><h2 class="text-5xl md:text-7xl font-display italic mb-6">Selected<br>Works</h2><p class="text-gray-400 font-light text-lg mb-8 max-w-sm">Une collection d'expériences numériques conçues avec précision.</p><a href="${data.cv}" class="inline-block border-b border-purple-400 pb-1 text-purple-300 hover:text-white transition-colors">Télécharger CV</a></div><div class="space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scroll">${experiencesHTML}</div></div></section><section class="stack-section"><div class="max-w-5xl mx-auto w-full grid md:grid-cols-2 gap-20"><div><h2 class="text-4xl font-display uppercase tracking-widest mb-12 border-b border-white/10 pb-4">Expertise</h2><div class="space-y-2">${skillsHTML}</div></div><div><h2 class="text-4xl font-display uppercase tracking-widest mb-12 border-b border-white/10 pb-4">Focus</h2><div class="grid grid-cols-1 gap-4">${data.passions.map(p => `<div class="p-6 border border-white/5 bg-white/5 rounded-xl"><div class="text-purple-300 font-display italic text-2xl mb-2">${p.name}</div><div class="text-sm text-gray-400 font-light">${p.desc}</div></div>`).join('')}</div></div></div></section><section class="stack-section items-center justify-center bg-black"><div class="text-center max-w-2xl"><div class="w-20 h-[1px] bg-purple-500 mx-auto mb-8"></div><h2 class="text-5xl md:text-8xl font-display italic mb-8">Let's Create.</h2><p class="text-gray-500 mb-12 font-light text-xl">Démarrons une conversation.</p><a href="mailto:${data.email}" class="text-2xl md:text-4xl border border-white/20 px-12 py-6 rounded-full hover:bg-white hover:text-black transition-all duration-500 inline-block mb-16">${data.email}</a><div class="border-t border-white/10 w-full">${socialHTML}</div></div></section></main><script>lucide.createIcons();window.addEventListener('scroll',()=>{const sections=document.querySelectorAll('.stack-section');sections.forEach((sec,index)=>{const rect=sec.getBoundingClientRect();if(rect.top<=0&&index<sections.length-1){const scale=1-(window.scrollY-(index*window.innerHeight))*0.0005;if(scale>0.9)sec.style.transform=\`scale(\${scale})\`;}});});<\/script></body></html>`;
        }

        // --- AURA (LINKS FIXED) ---
        function getAuraHTML(data) {
             const experiencesHTML = data.experiences.map((exp) => `<div class="bg-white/60 p-6 rounded-[2rem] border border-white/50 shadow-sm hover:shadow-lg transition-all hover:-translate-y-1"><h4 class="text-xl font-bold text-slate-800">${exp.title}</h4><div class="text-xs font-bold text-pink-500 uppercase tracking-widest mb-3">${exp.company}</div><p class="text-slate-500 text-sm leading-relaxed">${exp.desc}</p></div>`).join('');
             const skillsHTML = data.skills.map((s) => `<span class="px-4 py-2 bg-white/50 rounded-full border border-white/60 text-slate-600 text-sm font-medium shadow-sm">${s.name}</span>`).join('');
             const passionsHTML = data.passions.map((p) => `<div class="flex items-start gap-4 p-4 bg-white/40 rounded-2xl"><div class="w-2 h-2 rounded-full bg-blue-400 mt-2 shrink-0"></div><div><div class="font-bold text-slate-800">${p.name}</div><div class="text-xs text-slate-500">${p.desc}</div></div></div>`).join('');
             const socialHTML = data.socials.map((s) => `<a href="${s.url}" class="p-3 bg-white/50 rounded-full hover:bg-white hover:scale-110 transition-all text-slate-600 hover:text-pink-500 shadow-sm"><i data-lucide="${getSocialIcon(s.platform)}" class="w-5 h-5"></i></a>`).join('');

             let imageHTML = ''; 
             if (data.avatar) { imageHTML = `<div class="w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-xl mx-auto mb-6"><img src="${data.avatar}" class="w-full h-full object-cover"></div>`; }

             // FIX: Using onclick with scrollIntoView and ensuring IDs exist
             return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${data.name} | AURA</title><script src="https://cdn.tailwindcss.com"><\/script><script src="https://unpkg.com/lucide@latest"><\/script><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet"><style>body{background-color:#f8fafc;color:#1e293b;font-family:'Plus Jakarta Sans',sans-serif;overflow-x:hidden;}
             /* AURA ANIMATIONS */
             .aura-bg{position:fixed;inset:0;z-index:-1;overflow:hidden;background:#fdf4ff;}
             .blob{position:absolute;border-radius:50%;filter:blur(80px);opacity:0.6;animation:float 20s infinite alternate;}
             .blob-1{top:-10%;left:-10%;width:50vw;height:50vw;background:#fce7f3;animation-delay:0s;}
             .blob-2{bottom:-10%;right:-10%;width:60vw;height:60vw;background:#e0f2fe;animation-delay:-5s;}
             .blob-3{top:40%;left:30%;width:40vw;height:40vw;background:#fef3c7;animation-delay:-10s;}
             @keyframes float{0%{transform:translate(0,0) rotate(0deg);}100%{transform:translate(100px,50px) rotate(20deg);}}
             
             /* DOCK MENU */
             .dock-container{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);z-index:100;}
             .dock{display:flex;gap:1rem;background:rgba(255,255,255,0.7);backdrop-filter:blur(12px);padding:0.75rem 1.5rem;border-radius:2rem;border:1px solid rgba(255,255,255,0.5);box-shadow:0 10px 40px rgba(0,0,0,0.05);}
             .dock-item{padding:0.5rem;border-radius:0.75rem;transition:all 0.2s;color:#475569;cursor:pointer;}
             .dock-item:hover{background:white;transform:translateY(-5px);color:#ec4899;box-shadow:0 5px 15px rgba(236,72,153,0.15);}
             
             /* MASONRY GRID (BENTO) */
             .bento-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:1.5rem;padding:2rem;max-width:1200px;margin:0 auto;}
             .bento-card{background:rgba(255,255,255,0.4);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.6);border-radius:2rem;padding:2rem;}
             .col-span-12{grid-column:span 12;} .col-span-8{grid-column:span 12;} .col-span-4{grid-column:span 12;}
             @media (min-width: 1024px) { .col-span-8{grid-column:span 8;} .col-span-4{grid-column:span 4;} }
             
             .reveal-load{animation:fadeUp 0.8s cubic-bezier(0.2,1,0.2,1) forwards;opacity:0;transform:translateY(30px);}
             @keyframes fadeUp{to{opacity:1;transform:translateY(0);}}
             </style></head><body>
             
             <div class="aura-bg"><div class="blob blob-1"></div><div class="blob blob-2"></div><div class="blob blob-3"></div></div>
             
             <!-- DOCK NAVIGATION -->
             <div class="dock-container reveal-load" style="animation-delay:0.5s">
                 <div class="dock">
                     <button onclick="document.getElementById('home').scrollIntoView({behavior:'smooth'})" class="dock-item"><i data-lucide="home" class="w-5 h-5"></i></button>
                     <button onclick="document.getElementById('work').scrollIntoView({behavior:'smooth'})" class="dock-item"><i data-lucide="briefcase" class="w-5 h-5"></i></button>
                     <button onclick="document.getElementById('about').scrollIntoView({behavior:'smooth'})" class="dock-item"><i data-lucide="user" class="w-5 h-5"></i></button>
                     <a href="mailto:${data.email}" class="dock-item"><i data-lucide="mail" class="w-5 h-5"></i></a>
                 </div>
             </div>

             <main class="pb-32">
                 <!-- HERO SECTION -->
                 <section id="home" class="min-h-[80vh] flex flex-col justify-center items-center text-center px-6 reveal-load">
                     ${imageHTML}
                     <div class="inline-block px-4 py-1 rounded-full bg-white/50 border border-white/60 text-xs font-bold tracking-widest text-slate-500 mb-6 shadow-sm">PORTFOLIO 2025</div>
                     <h1 class="text-5xl md:text-8xl font-black text-slate-800 tracking-tight mb-4">${data.name}</h1>
                     <p class="text-xl md:text-2xl text-slate-500 font-medium max-w-2xl">${data.bio}</p>
                     <div class="flex gap-4 mt-8">${socialHTML}</div>
                 </section>

                 <!-- BENTO GRID -->
                 <section id="work" class="bento-grid">
                     <!-- CARD 1: ROLE (Large) -->
                     <div class="bento-card col-span-8 reveal-load" style="animation-delay:0.1s">
                         <div class="h-full flex flex-col justify-between">
                             <div>
                                 <h2 class="text-4xl font-bold text-slate-800 mb-2">Mon Rôle</h2>
                                 <h3 class="text-2xl text-pink-500 font-bold">${data.role}</h3>
                             </div>
                             <div class="mt-8 flex flex-wrap gap-2">${skillsHTML}</div>
                         </div>
                     </div>

                     <!-- CARD 2: CV (Small) -->
                     <div class="bento-card col-span-4 bg-slate-800 text-white flex flex-col justify-center items-center text-center reveal-load group cursor-pointer hover:bg-slate-900 transition-colors" onclick="window.location.href='${data.cv}'" style="animation-delay:0.2s">
                         <div class="w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"><i data-lucide="download" class="w-6 h-6"></i></div>
                         <div class="font-bold text-xl">Télécharger CV</div>
                         <div class="text-slate-400 text-sm mt-1">Version PDF</div>
                     </div>

                     <!-- CARD 3: EXPERIENCE (Full Width) -->
                     <div class="bento-card col-span-12 reveal-load" style="animation-delay:0.3s">
                         <h2 class="text-2xl font-bold text-slate-800 mb-8 flex items-center gap-2"><i data-lucide="layers" class="text-pink-500"></i> Expérience</h2>
                         <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                             ${experiencesHTML}
                         </div>
                     </div>

                     <!-- CARD 4: PASSIONS -->
                     <div id="about" class="bento-card col-span-12 md:col-span-6 reveal-load" style="animation-delay:0.4s">
                         <h2 class="text-xl font-bold text-slate-800 mb-6">Ce qui m'anime</h2>
                         <div class="space-y-4">${passionsHTML}</div>
                     </div>

                     <!-- CARD 5: CONTACT -->
                     <div class="bento-card col-span-12 md:col-span-6 bg-gradient-to-br from-pink-50 to-blue-50 flex flex-col justify-center items-center text-center reveal-load" style="animation-delay:0.5s">
                         <h2 class="text-3xl font-bold text-slate-800 mb-4">Un projet ?</h2>
                         <p class="text-slate-500 mb-8">Discutons de vos idées autour d'un café virtuel.</p>
                         <a href="mailto:${data.email}" class="px-8 py-4 bg-slate-900 text-white font-bold rounded-xl hover:shadow-xl hover:-translate-y-1 transition-all">Me Contacter</a>
                     </div>
                 </section>

                 <footer class="text-center text-slate-400 text-sm font-medium py-12">Designed with Nexus Aura</footer>
             </main>

             <script>lucide.createIcons();<\/script>
             </body></html>`;
        }

        // --- DYNAMIC FIELDS (Abbreviated, keeping full logic) ---
        function createExperienceHTML(title="", company="", desc="") { return `<div class="exp-item list-item-anim p-4 border border-white/10 rounded bg-white/5 relative group"><button onclick="this.parentElement.remove(); updatePreview()" class="absolute top-2 right-2 p-1 text-red-500 hover:bg-red-500/20 rounded opacity-50 group-hover:opacity-100 transition-all hover-trigger"><i data-lucide="trash-2" class="w-4 h-4"></i></button><div class="text-cyan-400 text-xs mono mb-2">EXPERIENCE</div><input type="text" class="exp-title w-full p-2 mb-2 rounded cyber-input text-sm hover-trigger" placeholder="Intitulé" value="${title}" oninput="updatePreview()"><input type="text" class="exp-company w-full p-2 mb-2 rounded cyber-input text-sm hover-trigger" placeholder="Entreprise" value="${company}" oninput="updatePreview()"><textarea class="exp-desc w-full p-2 rounded cyber-input text-xs hover-trigger" rows="2" placeholder="Description..." oninput="updatePreview()">${desc}</textarea></div>`; }
        function createSkillHTML(name="", val="50") { return `<div class="skill-item list-item-anim flex gap-2 items-center group"><input type="text" class="skill-name w-2/3 p-2 rounded cyber-input text-sm hover-trigger" placeholder="Nom" value="${name}" oninput="updatePreview()"><input type="number" class="skill-val w-1/4 p-2 rounded cyber-input text-sm hover-trigger" placeholder="%" value="${val}" max="100" oninput="updatePreview()"><button onclick="this.parentElement.remove(); updatePreview()" class="p-2 text-red-500 hover:bg-red-500/20 rounded opacity-50 group-hover:opacity-100 transition-all hover-trigger"><i data-lucide="trash-2" class="w-4 h-4"></i></button></div>`; }
        function createPassionHTML(name="", desc="") { return `<div class="passion-item list-item-anim p-4 border border-white/10 rounded bg-white/5 relative group"><button onclick="this.parentElement.remove(); updatePreview()" class="absolute top-2 right-2 p-1 text-red-500 hover:bg-red-500/20 rounded opacity-50 group-hover:opacity-100 transition-all hover-trigger"><i data-lucide="trash-2" class="w-4 h-4"></i></button><div class="text-green-400 text-xs mono mb-2">PASSION / INTÉRÊT</div><input type="text" class="passion-name w-full p-2 mb-2 rounded cyber-input text-sm hover-trigger" placeholder="Titre (ex: Photographie)" value="${name}" oninput="updatePreview()"><textarea class="passion-desc w-full p-2 rounded cyber-input text-xs hover-trigger" rows="2" placeholder="Détails (ex: Paysages urbains...)" oninput="updatePreview()">${desc}</textarea></div>`; }
        function createSocialHTML(platform="LinkedIn", url="#") { return `<div class="social-item list-item-anim flex gap-2 items-center group"><select class="social-platform w-1/3 p-2 rounded cyber-input text-sm hover-trigger" oninput="updatePreview()"><option value="LinkedIn" ${platform==='LinkedIn'?'selected':''}>LinkedIn</option><option value="GitHub" ${platform==='GitHub'?'selected':''}>GitHub</option><option value="Twitter/X" ${platform==='Twitter/X'?'selected':''}>Twitter/X</option><option value="Instagram" ${platform==='Instagram'?'selected':''}>Instagram</option><option value="Behance" ${platform==='Behance'?'selected':''}>Behance</option><option value="Dribbble" ${platform==='Dribbble'?'selected':''}>Dribbble</option><option value="Site Web" ${platform==='Site Web'?'selected':''}>Site Web</option></select><input type="text" class="social-url w-2/3 p-2 rounded cyber-input text-sm hover-trigger" placeholder="URL complète (https://...)" value="${url}" oninput="updatePreview()"><button onclick="this.parentElement.remove(); updatePreview()" class="p-2 text-red-500 hover:bg-red-500/20 rounded opacity-50 group-hover:opacity-100 transition-all hover-trigger"><i data-lucide="trash-2" class="w-4 h-4"></i></button></div>`; }

        function addExperience(title, company, desc) { document.getElementById('experience-list').insertAdjacentHTML('beforeend', createExperienceHTML(title, company, desc)); lucide.createIcons(); updatePreview(); }
        function addSkill(name, val) { document.getElementById('skills-list').insertAdjacentHTML('beforeend', createSkillHTML(name, val)); lucide.createIcons(); updatePreview(); }
        function addPassion(name, desc) { document.getElementById('passions-list').insertAdjacentHTML('beforeend', createPassionHTML(name, desc)); lucide.createIcons(); updatePreview(); }
        function addSocial(platform, url) { document.getElementById('social-list').insertAdjacentHTML('beforeend', createSocialHTML(platform, url)); lucide.createIcons(); updatePreview(); }

        // --- LOCAL STORAGE LOGIC ---
        function saveToLocal() { const data = getDataFromForm(); data.currentTemplate = currentTemplate; localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); }
        function loadFromLocal() {
            const savedJSON = localStorage.getItem(STORAGE_KEY); if (!savedJSON) return false;
            try {
                const data = JSON.parse(savedJSON);
                if(data.name) document.getElementById('input-name').value = data.name;
                if(data.role) document.getElementById('input-role').value = data.role;
                if(data.bio) document.getElementById('input-bio').value = data.bio;
                if(data.email) document.getElementById('input-email').value = data.email;
                if(data.cv) document.getElementById('input-cv').value = data.cv;
                if(data.avatar) { customAvatar = data.avatar; const imgPreview = document.getElementById('uploaded-avatar-preview'); imgPreview.src = customAvatar; imgPreview.classList.remove('hidden'); document.getElementById('btn-remove-avatar').classList.remove('hidden'); }
                if (data.currentTemplate) { currentTemplate = data.currentTemplate; const display = document.getElementById('mode-display'); if(display) { display.innerText = currentTemplate.toUpperCase(); } document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected')); const selected = document.getElementById('card-' + currentTemplate); if(selected) selected.classList.add('selected'); }
                
                document.getElementById('experience-list').innerHTML = ''; document.getElementById('skills-list').innerHTML = ''; document.getElementById('passions-list').innerHTML = ''; document.getElementById('social-list').innerHTML = '';
                if (data.experiences) data.experiences.forEach(exp => addExperience(exp.title, exp.company, exp.desc));
                if (data.skills) data.skills.forEach(skill => addSkill(skill.name, skill.val));
                if (data.passions) data.passions.forEach(pass => addPassion(pass.name, pass.desc));
                if (data.socials) data.socials.forEach(soc => addSocial(soc.platform, soc.url));
                generateNeuralAvatar(data.name || "USER"); return true; 
            } catch(e) { return false; }
        }
        function resetMemory() { if(confirm("Effacement mémoire locale ?")) { localStorage.removeItem(STORAGE_KEY); location.reload(); } }

        function updatePreview() {
            const data = getDataFromForm(); const html = getTemplateHTML(data);
            const iframe = document.getElementById('preview-frame'); iframe.srcdoc = html;
            totalLines += Math.floor(Math.random() * 300) + 150; 
            const counterEl = document.getElementById('counter-stats'); if(counterEl) counterEl.innerText = totalLines.toLocaleString();
            playTypingSound(); saveToLocal();
        }
        function exportPortfolio() { playClickSound(); const data = getDataFromForm(); const html = getTemplateHTML(data); const blob = new Blob([html], { type: 'text/html' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `portfolio-${currentTemplate}.html`; document.body.appendChild(a); a.click(); document.body.removeChild(a); }

        // BOOT LOGIC
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a']; let konamiIndex = 0;
        document.addEventListener('keydown', (e) => { if (e.key === konamiCode[konamiIndex]) { konamiIndex++; if (konamiIndex === konamiCode.length) { document.body.classList.toggle('matrix-mode'); playClickSound(); alert("MATRIX MODE ENGAGED"); konamiIndex = 0; } } else { konamiIndex = 0; } });

        window.addEventListener('load', () => {
            lucide.createIcons();
            // Load saved data or defaults
            if (!loadFromLocal()) {
                addExperience('Lead Designer', 'Studio K', 'Direction artistique.');
                addExperience('Web Developer', 'Freelance', 'Sites interactifs Three.js.');
                addSkill('Creative Direction', '90'); addSkill('Front-end', '85');
                addPassion('Photographie', 'Exploration urbaine.');
                addPassion('Basket-Ball', 'Esprit d\'équipe.');
                addSocial('LinkedIn', 'https://linkedin.com'); addSocial('GitHub', 'https://github.com');
                generateNeuralAvatar("ALEX STERLING");
                const selected = document.getElementById('card-orion'); if(selected) selected.classList.add('selected');
            }
            updatePreview();
            
            // Cursor Logic
            const cursor = document.getElementById('cursor'); const cursorDot = document.getElementById('cursor-dot');
            if (cursor && cursorDot) { document.addEventListener('mousemove', (e) => { cursorDot.style.left = e.clientX + 'px'; cursorDot.style.top = e.clientY + 'px'; setTimeout(() => { cursor.style.transform = `translate(${e.clientX - 10}px, ${e.clientY - 10}px)`; }, 50); }); }
            document.querySelectorAll('.hover-trigger').forEach(el => { el.addEventListener('mouseenter', () => { document.body.classList.add('hovering'); playHoverSound(); }); el.addEventListener('mouseleave', () => document.body.classList.remove('hovering')); });
            
            // Particles for Builder Background
            const canvas = document.getElementById('particle-canvas'); 
            if (canvas) {
                const ctx = canvas.getContext('2d'); canvas.width = window.innerWidth; canvas.height = window.innerHeight;
                const particles = Array.from({length: 40}).map(() => ({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, size: Math.random() * 2, speedX: (Math.random() - 0.5) * 0.5, speedY: (Math.random() - 0.5) * 0.5 }));
                function animateParticles() { ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = '#00f3ff'; particles.forEach(p => { p.x += p.speedX; p.y += p.speedY; if(p.x < 0 || p.x > canvas.width) p.speedX *= -1; if(p.y < 0 || p.y > canvas.height) p.speedY *= -1; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill(); }); requestAnimationFrame(animateParticles); }
                animateParticles();
            }
        });
    </script>
</body>
</html>
